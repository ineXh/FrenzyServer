function MiniMap(){this.create()}MiniMap.prototype={create:function(){this.map=new PIXI.Container,stage0.addChild(this.map),this.border_box=new PIXI.Graphics,this.border_box.lineStyle(50,16711680,1),this.border_box.beginFill(65291,.5),this.border_box.drawRect(0,0,stage_width,stage_height),this.map.addChild(this.border_box),this.units=new PIXI.Graphics,this.updateMap_count=0,this.updateMap_time=0,this.map.scale.set(this.scale)},update:function(){if(gamestate==GameState.InPlay&&(this.updateMap_count++,!(this.updateMap_count<this.updateMap_time))){this.updateMap_count=0;var a=this.units;a.clear(),game.teams.forEach(function(b){a.beginFill(16776971,.5),b.characters.forEach(function(b){b.forEach(function(b){a.drawRect(b.pos.x,b.pos.y,10,10)})}),a.endFill()})}}};