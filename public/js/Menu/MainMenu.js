function MainMenu(){stage_main_menu=new PIXI.Container,stage0.addChild(stage_main_menu),this.icons=[],this.init()}MainMenu.prototype={init:function(){},initialize:function(){},restart:function(){stage0.addChild(stage_main_menu)},clean:function(){stage0.removeChild(stage_main_menu)},update:function(t){this.done},onAssetsLoaded:function(){icon_logo=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("logo.png"))),icon_play=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("play_196.png"))),icon_multiplay=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("icon_multiplayer.png"))),icon_music=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("music_on.png"))),icon_sound=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("sound_on.png"))),icon_heart=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("heart.png"))),icon_setting=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("setting.png"))),title=new Particle({},ParticleType.ICON,new PIXI.Sprite(PIXI.Texture.fromFrame("logo.png")))},playlogo:function(){return new Promise(function(t,n){gamestate=GameState.Loading,icon_logo.init({x:width/2,y:height,x_end:[width/2,width/2],y_end:[height/2,height/2],duration:[100,100],cb_dead:function(){t(),gamestate=GameState.MainMenu,menu.mainmenu.playtitle()}})})},playbutton:function(){return new Promise(function(t,n){gamestate=GameState.MainMenu,icon_play.init({does_not_die:!0,x:width/2-width/5,y:height/2,x_end:[width/2-width/5,width/2-width/5],y_end:[height/2,height/2],rs:width/30,re:[width/8,width/8],duration:[200,1],container:stage_main_menu,cb:[function(){this.sprite.interactive=!0,this.sprite.on("mousedown",playbuttonpress.bind(menu)),this.sprite.on("touchstart",playbuttonpress.bind(menu)),this.sprite.on("mouseup",playbuttonrelease.bind(menu)),this.sprite.on("touchend",playbuttonrelease.bind(menu)),this.sprite.on("mouseupoutside",playbuttonreleaseout.bind(menu)),this.sprite.on("touchendoutside",playbuttonreleaseout.bind(menu)),t()},function(){menu.mainmenu.playmultibutton()}]}),menu.mainmenu.icons.push(icon_play)})},playmultibutton:function(){return new Promise(function(t,n){gamestate=GameState.MainMenu,icon_multiplay.init({does_not_die:!0,x:width/2+width/5,y:height/2,x_end:[width/2+width/5,width/2+width/5],y_end:[height/2,height/2],rs:width/30,re:[width/8,width/8],duration:[200,1],container:stage_main_menu,cb:[function(){this.sprite.interactive=!0,this.sprite.on("mousedown",playmultibuttonpress.bind(menu)),this.sprite.on("touchstart",playmultibuttonpress.bind(menu)),this.sprite.on("mouseup",playmultibuttonrelease.bind(menu)),this.sprite.on("touchend",playmultibuttonrelease.bind(menu)),this.sprite.on("mouseupoutside",playmultibuttonreleaseout.bind(menu)),this.sprite.on("touchendoutside",playmultibuttonreleaseout.bind(menu)),t()},function(){menu.mainmenu.musicbutton()}]}),menu.mainmenu.icons.push(icon_multiplay)})},playtitle:function(){return new Promise(function(t,n){title.init({does_not_die:!0,x:width/2,y:-height/20,x_end:[width/2,width/2],y_end:[height/4,height/4],rs:width/20,re:[width/4,width/4],duration:[500,1],container:stage_main_menu,cb:[function(){this.sprite.tint=16777215},function(){menu.mainmenu.playbutton(),t()}]}),menu.mainmenu.icons.push(title)})},musicbutton:function(){return new Promise(function(t,n){icon_music.init({does_not_die:!0,x:width/2-width/4,y:7*height/8,x_end:[width/2-width/4,width/2-width/4],y_end:[7*height/8,7*height/8],rs:width/40,re:[width/20,width/20],duration:[200,1],container:stage_main_menu,cb:[function(){this.sprite.tint=16765986,this.sprite.interactive=!0,this.sprite.on("mousedown",musicbuttonpress.bind(menu)),this.sprite.on("touchstart",musicbuttonpress.bind(menu)),t()},function(){menu.mainmenu.soundbutton()}]}),menu.mainmenu.icons.push(icon_music)})},soundbutton:function(){return new Promise(function(t,n){icon_sound.init({does_not_die:!0,x:width/2-width/8,y:7*height/8,x_end:[width/2-width/8,width/2-width/8],y_end:[7*height/8,7*height/8],rs:width/40,re:[width/20,width/20],duration:[200,1],container:stage_main_menu,cb:[function(){this.sprite.tint=16765986,this.sprite.interactive=!0,this.sprite.on("mousedown",soundbuttonpress.bind(menu)),this.sprite.on("touchstart",soundbuttonpress.bind(menu)),t()},function(){menu.mainmenu.heartbutton()}]}),menu.mainmenu.icons.push(icon_sound)})},heartbutton:function(){return new Promise(function(t,n){icon_heart.init({does_not_die:!0,x:width/2+width/8,y:7*height/8,x_end:[width/2+width/8,width/2+width/8],y_end:[7*height/8,7*height/8],rs:width/40,re:[width/20,width/20],duration:[200,1],container:stage_main_menu,cb:[function(){this.sprite.tint=16765986,this.sprite.interactive=!0,this.sprite.on("mousedown",heartbuttonpress.bind(menu)),this.sprite.on("touchstart",heartbuttonpress.bind(menu)),t()},function(){menu.mainmenu.settingbutton()}]}),menu.mainmenu.icons.push(icon_heart)})},settingbutton:function(){return new Promise(function(t,n){icon_setting.init({does_not_die:!0,x:width/2+width/4,y:7*height/8,x_end:[width/2+width/4,width/2+width/4],y_end:[7*height/8,7*height/8],rs:width/40,re:[width/20,width/20],duration:[200,1],container:stage_main_menu,cb:[function(){this.sprite.tint=16765986,this.sprite.interactive=!0,this.sprite.on("mousedown",settingbuttonpress.bind(menu)),this.sprite.on("touchstart",settingbuttonpress.bind(menu)),t()},function(){}]}),menu.mainmenu.icons.push(icon_setting)})},scores:function(){},update:function(t){if(gamestate==GameState.Loading&&(icon_logo.update(t),icon_logo.isDead()&&(null!=icon_logo.cb_dead&&icon_logo.cb_dead(),icon_logo.clean())),gamestate==GameState.MainMenu&&(this.icons.forEach(function(n){n.update(t)}),this.chick_init&&this.chick_update(t)),gamestate==GameState.StageSelect)for(var n=0;n<this.stage_select_icons.length;n++)this.stage_select_icons[n].update(t)}};var heartbuttonpress=function(){console.log("heartbuttonpress")},musicbuttonpress=function(){console.log("musicbuttonpress")},playbuttonpress=function(){icon_play.does_not_die=!1,icon_play.rs=icon_play.re,icon_play.re*=.75,icon_play.pct=0,icon_play.duration=200,icon_play.time_s=time.t},playbuttonrelease=function(){menu.mainmenu.clean(),stage0.addChild(stage),stage0.addChild(stage_front),gamemode=GameMode.SinglePlayer,game.startsingle()},playbuttonreleaseout=function(){var t=icon_play.rs;icon_play.rs=icon_play.re,icon_play.re=t,icon_play.pct=0,icon_play.duration=200,icon_play.time_s=time.t},playmultibuttonpress=function(){icon_multiplay.does_not_die=!1,icon_multiplay.rs=icon_multiplay.re,icon_multiplay.re*=.75,icon_multiplay.pct=0,icon_multiplay.duration=200,icon_multiplay.time_s=time.t},playmultibuttonrelease=function(){gamestate=GameState.MultiPlayerMenu,menu.mainmenu.clean(),stage0.addChild(stage),stage0.addChild(stage_front),gamemode=GameMode.MultiPlayer,menu.multiplayermenu.init()},playmultibuttonreleaseout=function(){var t=icon_multiplay.rs;icon_multiplay.rs=icon_multiplay.re,icon_multiplay.re=t,icon_multiplay.pct=0,icon_multiplay.duration=200,icon_multiplay.time_s=time.t},settingbuttonpress=function(){console.log("settingbuttonpress")},soundbuttonpress=function(){console.log("soundbuttonpress")};