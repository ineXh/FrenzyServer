function update(){var e=Date.now(),t=e-lastTime,i=e-startTime;time={t:i,dt:t},lastTime=e,visibleCheck(),void 0!=game&&game.onTouching(),assetsloaded&&(menu.update(time),game.update(),void 0!=characters&&characters.update(time),particles.update(time))}function animate(){update(),renderer.render(stage0),requestAnimationFrame(animate)}var Engine=function(e){startTime=Date.now(),width=window.innerWidth,height=window.innerHeight,dim=width<height?width:height,big_dim=width<height?height:width,stage_width=2*big_dim,stage_height=2*big_dim,scope_width=.15*width,scope_height=.15*height,renderer=PIXI.autoDetectRenderer(width,1*height,{backgroundColor:LightCyan}),document.body.appendChild(renderer.view),addListeners(),stage0=new PIXI.Container,stage=new PIXI.Container,stage_front=new PIXI.Container;var t=new PIXI.Graphics;t.lineStyle(5,16711680,1),t.drawRect(0,0,stage_width,stage_height),stage.addChild(t),gameobjects=new GameObjects,animate()}(this);